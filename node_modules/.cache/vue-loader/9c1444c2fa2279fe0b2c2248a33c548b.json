{"remainingRequest":"/home/hm/cobold/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hm/cobold/src/components/HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hm/cobold/src/components/HelloWorld.vue","mtime":1556470757765},{"path":"/home/hm/cobold/node_modules/cache-loader/dist/cjs.js","mtime":1551255944348},{"path":"/home/hm/cobold/node_modules/babel-loader/lib/index.js","mtime":1551255931028},{"path":"/home/hm/cobold/node_modules/cache-loader/dist/cjs.js","mtime":1551255944348},{"path":"/home/hm/cobold/node_modules/vue-loader/lib/index.js","mtime":1552725461615}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\nexport default {\n\n  name: 'HelloWorld',\n  props: {\n    // msg: String\n  },\n  data() {\n      return {\n        scrollState: '',\n        newsHeadlines: [],\n        imageHref: [],\n        newsLinkHref: [],\n        value: '',\n        pageNumber: 0,\n        userSearchvalue: '',\n        loading: false,\n        inputSearch: '',\n        searchPageNumber: 1,\n        // temporary variables for storing search results\n        userSearchHeadlines: [],\n        imageHrefTemp: [],\n        newsLinkHrefTemp: [],\n        // ends here\n        test: 0,\n      }\n    },\n  methods: {\n      remoteMethod(query) {\n        //for fetching result as per user's search (can be improved with async and await)\n        if (query !== '') {\n          this.loading = true;\n          this.userSearchvalue = query;\n          // console.log(query);\n          //to set the scroll state\n          this.scrollState.reset();\n          // to provide a gap between input entered and search begin\n          setTimeout(() => {\n            //for accessing global variables inside function\n            let vm = this;\n            // make the temporary arrays empty\n            this.userSearchHeadlines = [];\n            this.imageHrefTemp = [];\n            this.newsLinkHrefTemp = [];\n            // console.log(query);\n            \n            //fetching result for user's query\n            this.$api.get('https://newsapi.org/v2/everything?q=' + query +'&sortBy=publishedAt&page=1&language=en&apiKey=68382f09d14c48488f2d573ae9158d74')\n            .then(response => {\n              \n              console.log(response);\n              for (let i = 0; i < response.data.articles.length; i++) {\n                this.userSearchHeadlines.push(response.data.articles[i].title);\n                this.imageHrefTemp.push(response.data.articles[i].urlToImage);\n                this.newsLinkHrefTemp.push(response.data.articles[i].url);              \n            };\n      })\n          .catch(e => {\n      \n            // vm.loading = false;\n            console.log(e);\n      })\n          .then(function () {\n            vm.loading = false;\n          // always executed\n      });\n            \n            \n          }, 600);\n\n        } else {\n          this.userSearchHeadlines = [];\n          // this.options = [];\n        }\n    },\n\n    infiniteHandler($state) {\n\n      this.pageNumber++;\n      // console.log(\"infinite\");\n      this.scrollState = $state;\n      if (this.pageNumber <= 2){\n        this.fetchNews($state);\n      \n        \n      }\n      else {\n          $state.complete()\n      }\n\n    },\n\n    fetchNews ($state) {\n      // console.log(-3 + this.searchPageNumber);\n      // console.log(this.pageNumber);\n      if (this.pageNumber === -3 + this.searchPageNumber){\n      this.scrollState = $state;\n      // this.test++;\n      this.searchPageNumber++;\n      this.$api.get('https://newsapi.org/v2/everything?q=' + this.userSearchvalue +'&sortBy=publishedAt&page=' + this.searchPageNumber + '&language=en&apiKey=68382f09d14c48488f2d573ae9158d74') \n      .then(response => {\n      console.log(response);\n      for (let i = 0; i < response.data.articles.length; i++) {\n        this.newsHeadlines.push(response.data.articles[i].title);\n        this.imageHref.push(response.data.articles[i].urlToImage);\n        this.newsLinkHref.push(response.data.articles[i].url);\n\n        // console.log(response.data.articles[i].title);\n      };\n      //to check if we have reached page 5\n      if (this.searchPageNumber === 5){\n        $state.complete();\n        this.searchPageNumber = 1;\n        this.pageNumber = 3;\n        // $state.reset();\n      }\n      \n      console.log($state);\n    })\n    .catch(e => {\n      // $state.error();\n      // this.errors.push(e)\n      console.log(e);\n    })\n    .then(function () {\n      $state.loaded();\n      //to set the scroll state to loaded\n    // always executed\n    });\n  }\n      \n      else {\n      this.$api.get('https://newsapi.org/v2/top-headlines?country=in&page=' + this.pageNumber +'&apiKey=68382f09d14c48488f2d573ae9158d74')\n      .then(response => {\n      for (let i = 0; i < response.data.articles.length; i++) {\n        this.newsHeadlines.push(response.data.articles[i].title);\n        this.imageHref.push(response.data.articles[i].urlToImage);\n        this.newsLinkHref.push(response.data.articles[i].url);\n      };\n      \n      \n      $state.loaded();\n      console.log($state);\n    })\n    .catch(e => {\n      console.log(e);\n    })\n    }\n    \n  },\n  loadMoreSearchResults ($state) {\n      // console.log(\"infinite handler gt\");\n      this.scrollState = $state;\n      \n      this.searchPageNumber++;\n      this.$api.get('https://newsapi.org/v2/everything?q=' + this.userSearchvalue +'&sortBy=publishedAt&page=' + this.searchPageNumber + '&language=en&apiKey=68382f09d14c48488f2d573ae9158d74') \n      .then(response => {\n      // console.log(response);\n      for (let i = 0; i < response.data.articles.length; i++) {\n        this.userSearchHeadlines.push(response.data.articles[i].title);\n        this.imageHref.push(response.data.articles[i].urlToImage);\n        this.newsLinkHref.push(response.data.articles[i].url);\n\n        // console.log(response.data.articles[i].title);\n      };\n      //to check if we have reached page 5\n      if (this.searchPageNumber === 5){\n        $state.complete();\n        this.searchPageNumber = 1;\n        // $state.reset();\n      }\n      \n      console.log($state);\n    })\n    .catch(e => {\n      // $state.error();\n      // this.errors.push(e)\n      console.log(e);\n    })\n    .then(function () {\n      $state.loaded();\n      //to set the scroll state to loaded\n    // always executed\n    });\n  }, \n  fetchUserSearchNews () {\n    this.newsHeadlines = this.userSearchHeadlines.slice(0, 20); \n    this.imageHref = this.imageHrefTemp.slice(0, 20);\n    this.newsLinkHref = this.newsLinkHrefTemp.slice(0, 20); \n    this.userSearchHeadlines = [];\n    this.pageNumber = -3\n  }\n  },\n  mounted() {\n    \n  },\n  components: {\n    \n\n  }\n\n}\n",{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA","file":"HelloWorld.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    \n    <div style=\"display: flex; width: 80%; margin: auto\">\n        <el-select style=\"flex-grow: 1\"\n          v-model=\"userSearchvalue\"\n          loading-text=\"Loading News with your keyword\"\n          no-data-text=\"No match\"\n          filterable\n          remote\n          reserve-keyword\n          placeholder=\"Provide a keyword for your search\"\n          :remote-method=\"remoteMethod\"\n          :loading=\"loading\">\n        <el-option\n          v-for=\"(headlines, i) in userSearchHeadlines\"\n          :key=\"i\"\n          :label=\"headlines\"\n          :value=\"headlines\">\n        </el-option>\n        <infinite-loading @infinite=\"loadMoreSearchResults\">\n          <div slot=\"no-more\" class=\"noMoreMessage\">No more relevant results</div>\n        </infinite-loading>\n        </el-select>\n        <el-button type=\"primary\" @click=\"fetchUserSearchNews\">Show results</el-button>\n    </div>\n    \n    <!-- <p>{{userSearchvalue}}</p> -->\n    <div class=\"flexWrapper\" style=\"margin: 5% 0 0 0\">\n      <el-card class=\"box-card\" v-for=\"(cards, index) in newsHeadlines\">\n        <img :src=\"imageHref[index]\" style=\"width: 100%; height: 100%; min-height: 100%\" alt=\"Error loading image\">\n        <div class=\"newsHeadlineStyler\"><a :href=\"newsLinkHref[index]\" target=\"new\">{{ newsHeadlines[index] }}</a></div>\n      </el-card>\n    </div>\n\n    <!-- for infinite-loading -->\n    <infinite-loading @infinite=\"infiniteHandler\">\n      <div slot=\"no-more\" class=\"noMoreMessage\">No more relevant results</div>\n    </infinite-loading>\n    \n  </div>\n</template>\n\n<script>\n\n\n\n\n\nexport default {\n\n  name: 'HelloWorld',\n  props: {\n    // msg: String\n  },\n  data() {\n      return {\n        scrollState: '',\n        newsHeadlines: [],\n        imageHref: [],\n        newsLinkHref: [],\n        value: '',\n        pageNumber: 0,\n        userSearchvalue: '',\n        loading: false,\n        inputSearch: '',\n        searchPageNumber: 1,\n        // temporary variables for storing search results\n        userSearchHeadlines: [],\n        imageHrefTemp: [],\n        newsLinkHrefTemp: [],\n        // ends here\n        test: 0,\n      }\n    },\n  methods: {\n      remoteMethod(query) {\n        //for fetching result as per user's search (can be improved with async and await)\n        if (query !== '') {\n          this.loading = true;\n          this.userSearchvalue = query;\n          // console.log(query);\n          //to set the scroll state\n          this.scrollState.reset();\n          // to provide a gap between input entered and search begin\n          setTimeout(() => {\n            //for accessing global variables inside function\n            let vm = this;\n            // make the temporary arrays empty\n            this.userSearchHeadlines = [];\n            this.imageHrefTemp = [];\n            this.newsLinkHrefTemp = [];\n            // console.log(query);\n            \n            //fetching result for user's query\n            this.$api.get('https://newsapi.org/v2/everything?q=' + query +'&sortBy=publishedAt&page=1&language=en&apiKey=68382f09d14c48488f2d573ae9158d74')\n            .then(response => {\n              \n              console.log(response);\n              for (let i = 0; i < response.data.articles.length; i++) {\n                this.userSearchHeadlines.push(response.data.articles[i].title);\n                this.imageHrefTemp.push(response.data.articles[i].urlToImage);\n                this.newsLinkHrefTemp.push(response.data.articles[i].url);              \n            };\n      })\n          .catch(e => {\n      \n            // vm.loading = false;\n            console.log(e);\n      })\n          .then(function () {\n            vm.loading = false;\n          // always executed\n      });\n            \n            \n          }, 600);\n\n        } else {\n          this.userSearchHeadlines = [];\n          // this.options = [];\n        }\n    },\n\n    infiniteHandler($state) {\n\n      this.pageNumber++;\n      // console.log(\"infinite\");\n      this.scrollState = $state;\n      if (this.pageNumber <= 2){\n        this.fetchNews($state);\n      \n        \n      }\n      else {\n          $state.complete()\n      }\n\n    },\n\n    fetchNews ($state) {\n      // console.log(-3 + this.searchPageNumber);\n      // console.log(this.pageNumber);\n      if (this.pageNumber === -3 + this.searchPageNumber){\n      this.scrollState = $state;\n      // this.test++;\n      this.searchPageNumber++;\n      this.$api.get('https://newsapi.org/v2/everything?q=' + this.userSearchvalue +'&sortBy=publishedAt&page=' + this.searchPageNumber + '&language=en&apiKey=68382f09d14c48488f2d573ae9158d74') \n      .then(response => {\n      console.log(response);\n      for (let i = 0; i < response.data.articles.length; i++) {\n        this.newsHeadlines.push(response.data.articles[i].title);\n        this.imageHref.push(response.data.articles[i].urlToImage);\n        this.newsLinkHref.push(response.data.articles[i].url);\n\n        // console.log(response.data.articles[i].title);\n      };\n      //to check if we have reached page 5\n      if (this.searchPageNumber === 5){\n        $state.complete();\n        this.searchPageNumber = 1;\n        this.pageNumber = 3;\n        // $state.reset();\n      }\n      \n      console.log($state);\n    })\n    .catch(e => {\n      // $state.error();\n      // this.errors.push(e)\n      console.log(e);\n    })\n    .then(function () {\n      $state.loaded();\n      //to set the scroll state to loaded\n    // always executed\n    });\n  }\n      \n      else {\n      this.$api.get('https://newsapi.org/v2/top-headlines?country=in&page=' + this.pageNumber +'&apiKey=68382f09d14c48488f2d573ae9158d74')\n      .then(response => {\n      for (let i = 0; i < response.data.articles.length; i++) {\n        this.newsHeadlines.push(response.data.articles[i].title);\n        this.imageHref.push(response.data.articles[i].urlToImage);\n        this.newsLinkHref.push(response.data.articles[i].url);\n      };\n      \n      \n      $state.loaded();\n      console.log($state);\n    })\n    .catch(e => {\n      console.log(e);\n    })\n    }\n    \n  },\n  loadMoreSearchResults ($state) {\n      // console.log(\"infinite handler gt\");\n      this.scrollState = $state;\n      \n      this.searchPageNumber++;\n      this.$api.get('https://newsapi.org/v2/everything?q=' + this.userSearchvalue +'&sortBy=publishedAt&page=' + this.searchPageNumber + '&language=en&apiKey=68382f09d14c48488f2d573ae9158d74') \n      .then(response => {\n      // console.log(response);\n      for (let i = 0; i < response.data.articles.length; i++) {\n        this.userSearchHeadlines.push(response.data.articles[i].title);\n        this.imageHref.push(response.data.articles[i].urlToImage);\n        this.newsLinkHref.push(response.data.articles[i].url);\n\n        // console.log(response.data.articles[i].title);\n      };\n      //to check if we have reached page 5\n      if (this.searchPageNumber === 5){\n        $state.complete();\n        this.searchPageNumber = 1;\n        // $state.reset();\n      }\n      \n      console.log($state);\n    })\n    .catch(e => {\n      // $state.error();\n      // this.errors.push(e)\n      console.log(e);\n    })\n    .then(function () {\n      $state.loaded();\n      //to set the scroll state to loaded\n    // always executed\n    });\n  }, \n  fetchUserSearchNews () {\n    this.newsHeadlines = this.userSearchHeadlines.slice(0, 20); \n    this.imageHref = this.imageHrefTemp.slice(0, 20);\n    this.newsLinkHref = this.newsLinkHrefTemp.slice(0, 20); \n    this.userSearchHeadlines = [];\n    this.pageNumber = -3\n  }\n  },\n  mounted() {\n    \n  },\n  components: {\n    \n\n  }\n\n}\n</script>\n\n\n<style>\n\n.el-dropdown-link {\n    cursor: pointer;\n    color: #409EFF;\n  }\n.el-icon-arrow-down {\n    font-size: 12px;\n  }\n  .text {\n    font-size: 14px;\n  }\n\n  .item {\n    padding: 18px 0;\n  }\n\n  .box-card {\n    width: 30%; \n    display: inline-block; \n    margin-bottom: 3%;\n    height: 40vh;\n  }\n  a {\n    text-decoration: none;\n    color: #409eff;\n  }\n\n  a:hover {\n    color: #1989fa;\n  }\n\n  .el-select {\n    width: 80%;\n    margin: 0 0% 0 0%;\n  }\n  \n  .flexWrapper {\n    display: flex; \n    flex-wrap: wrap; \n    justify-content: space-around;\n    /*min-height: 90vh*/\n  }\n\n.scroll-area {\n  position: relative;\n  margin: auto;\n  width: 98vw;\n  height: 90vh;\n  }\n\n.el-card__body {\n    padding: 0px !important;\n    height: 70%;\n    /*to override element's style*/\n  }\n  .newsHeadlineStyler {\n    width: 90%;\n    margin: auto;\n    padding: 5% 0 0 0;\n  }\n  .el-button {\n    /*padding: 13px 20px !important;*/\n  }\n  @media only screen and (max-width: 1024px) {\n  .box-card {\n    width: 40%; \n    \n  }\n}\n@media only screen and (max-width: 768px) {\n  .box-card {\n    width: 80%; \n    height: 50vh;\n  }\n}\n.noMoreMessage {\n  font-size: 14px; \n  color: #606266;\n  margin-top: 1%\n}\n\n  \n</style>\n"]}]}